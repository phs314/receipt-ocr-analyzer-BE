{"swagger": "2.0", "info": {"title": "영수증 OCR 분석 API", "description": "영수증 이미지를 업로드하는 API", "termsOfService": "https://www.yourapp.com/terms/", "contact": {"email": "contact@yourapp.com"}, "license": {"name": "BSD License"}, "version": "v1"}, "host": "localhost:8000", "schemes": ["http"], "basePath": "/api", "consumes": ["application/json"], "produces": ["application/json"], "securityDefinitions": {"Basic": {"type": "basic"}}, "security": [{"Basic": []}], "paths": {"/participant/": {"post": {"operationId": "participant_create", "summary": "참가자 추가 API", "description": "---\n참가자를 추가합니다.\n\n### Request Body\n- `name`: 참가자 이름 (필수)\n- 기타 필요한 필드\n\n### Responses\n- 201: 참가자 추가 성공\n    ```json\n    {\n        \"success\": true,\n        \"message\": \"참가자가 성공적으로 추가되었습니다.\",\n        \"data\": { ... }\n    }\n    ```\n- 400/500: 오류\n    ```json\n    {\n        \"success\": false,\n        \"error\": \"...에러메시지...\"\n    }\n    ```", "parameters": [], "responses": {"201": {"description": ""}}, "tags": ["participant"]}, "parameters": []}, "/receipt/upload/": {"post": {"operationId": "receipt_upload_receipt", "summary": "영수증 이미지 업로드 API", "description": "---\n영수증 이미지를 업로드하고 서버에 저장합니다.\n\n### Request Body\n- `image`: 영수증 이미지 파일 (필수, JPEG/PNG)\n\n### Responses\n- 201: 성공적으로 업로드됨\n    ```json\n    {\n        \"success\": true,\n        \"message\": \"영수증이 성공적으로 업로드되었습니다.\",\n        \"data\": { ... }\n    }\n    ```\n- 400: 잘못된 요청 (이미지 없음 또는 형식 오류)\n    ```json\n    {\n        \"error\": \"이미지 파일이 필요합니다.\"\n    }\n    ```\n- 500: 서버 오류\n    ```json\n    {\n        \"success\": false,\n        \"error\": \"업로드 중 오류가 발생했습니다: ...에러메시지...\"\n    }\n    ```", "parameters": [], "responses": {"201": {"description": ""}}, "tags": ["receipt"]}, "parameters": []}, "/receiptinfo/analyze/": {"get": {"operationId": "receiptinfo_analyze_receipts", "summary": "영수증 OCR 분석 및 품목 추출 API", "description": "---\n업로드된 Receipt 객체의 이미지 각각에 대해 OCR 파이프라인을 실행하고,\n추출된 품목 정보를 ReceiptInfo로 저장 및 직렬화해 반환합니다.\n\n### Request Body\n- (body 없음) GET 요청이므로 별도의 body를 받지 않습니다.\n\n### Responses\n- 200: 성공, 추출된 품목 리스트 반환\n    ```json\n    {\n        \"success\": true,\n        \"message\": \"영수증 분석이 성공적으로 완료되었습니다.\",\n        \"results\": [\n            {\n                \"receipt\": 1,\n                \"store_name\": \"예시가게\",\n                \"item_name\": \"김밥\",\n                \"quantity\": 2,\n                \"unit_price\": 3000,\n                \"total_amount\": 6000\n            }\n        ]\n    }\n    ```\n- 400: 분석할 영수증 없음\n    ```json\n    {\n        \"success\": false,\n        \"error\": \"분석할 영수증이 없습니다.\"\n    }\n    ```\n- 500: 서버 오류\n    ```json\n    {\n        \"success\": false,\n        \"error\": \"분석 중 오류가 발생했습니다: ...에러메시지...\"\n    }\n    ```", "parameters": [], "responses": {"200": {"description": ""}}, "tags": ["receiptinfo"]}, "parameters": []}, "/settlement/": {"get": {"operationId": "settlement_list", "summary": "정산 API ViewSet", "description": "영수증 기반으로 참가자들의 금액을 정산합니다.", "parameters": [], "responses": {"200": {"description": "", "schema": {"type": "array", "items": {"$ref": "#/definitions/Settlement"}}}}, "tags": ["settlement"]}, "post": {"operationId": "settlement_create", "summary": "정산 API ViewSet", "description": "영수증 기반으로 참가자들의 금액을 정산합니다.", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Settlement"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/Settlement"}}}, "tags": ["settlement"]}, "parameters": []}, "/settlement/calculate/": {"post": {"operationId": "settlement_calculate_settlement", "summary": "POST /api/settlement/calculate/\n정산 계산 수행", "description": "Request Body 예시:\n{\n    \"receipt_id\": 1,\n    \"participants\": [1, 2, 3]\n}", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Settlement"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/Settlement"}}}, "tags": ["settlement"]}, "parameters": []}, "/settlement/{id}/": {"get": {"operationId": "settlement_read", "summary": "정산 API ViewSet", "description": "영수증 기반으로 참가자들의 금액을 정산합니다.", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Settlement"}}}, "tags": ["settlement"]}, "put": {"operationId": "settlement_update", "summary": "정산 API ViewSet", "description": "영수증 기반으로 참가자들의 금액을 정산합니다.", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Settlement"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Settlement"}}}, "tags": ["settlement"]}, "patch": {"operationId": "settlement_partial_update", "summary": "정산 API ViewSet", "description": "영수증 기반으로 참가자들의 금액을 정산합니다.", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Settlement"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Settlement"}}}, "tags": ["settlement"]}, "delete": {"operationId": "settlement_delete", "summary": "정산 API ViewSet", "description": "영수증 기반으로 참가자들의 금액을 정산합니다.", "parameters": [], "responses": {"204": {"description": ""}}, "tags": ["settlement"]}, "parameters": [{"name": "id", "in": "path", "description": "A unique integer value identifying this settlement.", "required": true, "type": "integer"}]}}, "definitions": {"Settlement": {"required": ["receipt", "participants", "result"], "type": "object", "properties": {"id": {"title": "ID", "type": "integer", "readOnly": true}, "receipt": {"title": "Receipt", "type": "integer"}, "participants": {"type": "array", "items": {"type": "integer"}, "uniqueItems": true}, "result": {"title": "Result", "type": "object"}, "created_at": {"title": "Created at", "type": "string", "format": "date-time"}}}}}